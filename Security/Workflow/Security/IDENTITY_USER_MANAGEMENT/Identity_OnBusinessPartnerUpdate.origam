<?xml version="1.0" encoding="utf-8"?>
<x:file xmlns:x="http://schemas.origam.com/1.0.0/model-persistence" xmlns="http://schemas.origam.com/5.0.0/model-element" xmlns:p="http://schemas.origam.com/1.0.0/package">
  <Workflow
    abstract="false"
    x:id="afac6813-b010-4204-80c0-d602eede4387"
    name="Identity_OnBusinessPartnerUpdate"
    traceLevel="None"
    transactionBehavior="InheritExisting"
    x:type="Origam.Schema.WorkflowModel.Workflow">
    <ContextStore
      abstract="false"
      dataType="Xml"
      disableConstraints="false"
      x:id="9b28d2f3-3aea-4a43-8ba4-1bdc6e6bf96d"
      isReturnValue="false"
      name="AreEmailsTheSame"
      structure="Root/DataStructure/__system/_any.origam#_any/78a0f3a0-116f-48a7-8bdd-adf7c868ce85"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="String"
      disableConstraints="false"
      x:id="47be9868-2d69-4b47-98fa-5631a711b313"
      isReturnValue="false"
      name="Username"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="String"
      disableConstraints="false"
      x:id="c4470478-6218-4ccd-8a2b-9f3cefa96c3b"
      isReturnValue="false"
      name="Email"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="String"
      disableConstraints="false"
      x:id="50a91ca7-302f-4015-8fc7-e6af939d12f9"
      isReturnValue="false"
      name="OldEmail"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <WorkflowTask
      abstract="false"
      x:id="1a4c875f-cdd3-47a1-bbe5-4f544b1df122"
      name="02_WhenUsernameNotEmpty"
      roles="*"
      startConditionRule="Root/Rule/_common/SR_SimpleContextValue_IsNotEmpty.origam#SR_SimpleContextValue_IsNotEmpty/9fcb4f49-e9d6-4d44-9e4f-11bfcc4743cd"
      startConditionRuleContextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/Username/47be9868-2d69-4b47-98fa-5631a711b313"
      traceLevel="InheritFromParent"
      transactionType="None"
      x:type="Origam.Schema.WorkflowModel.TransactionWorkflowBlock">
      <WorkflowTask
        abstract="false"
        x:id="e905928b-b0c3-4635-8bad-eb01f47c0879"
        name="03_Call_MembershipService_UpdateEmail"
        outputContextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/Username/47be9868-2d69-4b47-98fa-5631a711b313"
        outputMethod="Ignore"
        roles="*"
        service="Security/Service/IdentityService.origam#IdentityService/888933c6-e4b4-40c0-ae6b-462721fe8a60"
        serviceMethod="Security/Service/IdentityService.origam#IdentityService/UpdateUser/1c7a14b9-e49b-422c-9e66-86fd5db29c6d"
        startConditionRule="Security/Rule/_common/SR_SimpleContextValue_IsFalse.origam#SR_SimpleContextValue_IsFalse/df25192e-f532-419e-a226-f4e953f02499"
        startConditionRuleContextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/AreEmailsTheSame/9b28d2f3-3aea-4a43-8ba4-1bdc6e6bf96d"
        traceLevel="InheritFromParent"
        x:type="Origam.Schema.WorkflowModel.ServiceMethodCallTask">
        <ServiceMethodCallParameter
          abstract="false"
          x:id="a6755038-5975-4a3c-b442-4ea48198ce8e"
          name="Email"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/UpdateUser/Email/039877df-d323-44eb-9dbf-5e7fd5324b1e"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
          <WorkflowContextReference
            abstract="false"
            castToDataType="String"
            contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/Email/c4470478-6218-4ccd-8a2b-9f3cefa96c3b"
            x:id="998d545c-8392-4228-8a96-bf0f58b11cdf"
            name="Email"
            x:type="Origam.Schema.WorkflowModel.ContextReference"
            xPath="/" />
        </ServiceMethodCallParameter>
        <ServiceMethodCallParameter
          abstract="false"
          x:id="8352578c-f5bb-4f5c-b930-6df9fadd9aab"
          name="Username"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/UpdateUser/Username/2ba3b7a1-8b2c-4707-8200-4df5b8ae06af"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
          <WorkflowContextReference
            abstract="false"
            castToDataType="String"
            contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/Username/47be9868-2d69-4b47-98fa-5631a711b313"
            x:id="0c87f009-a254-4d23-a795-ea309f381613"
            name="Username"
            x:type="Origam.Schema.WorkflowModel.ContextReference"
            xPath="/" />
        </ServiceMethodCallParameter>
        <ServiceMethodCallParameter
          abstract="false"
          x:id="a4cef7a6-95a9-4c56-b023-7050ac86e1b4"
          name="IsApproved"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/UpdateUser/IsApproved/da302b15-eff5-4e04-b042-86c26f505650"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter" />
      </WorkflowTask>
      <WorkflowTaskDependency
        abstract="false"
        x:id="fbe9aec4-9c9b-43e1-b30c-a0a7be69e15e"
        name="After_01_Transform_AreEmailsChanged"
        startEvent="Success"
        task="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/01_Transform_AreEmailsTheSame/4cc80a1e-a314-4383-9f59-c0b199fae8ea"
        x:type="Origam.Schema.WorkflowModel.WorkflowTaskDependency" />
    </WorkflowTask>
    <WorkflowTask
      abstract="false"
      features="IDENTITY_USER_MANAGEMENT"
      x:id="4cc80a1e-a314-4383-9f59-c0b199fae8ea"
      name="01_Transform_AreEmailsTheSame"
      outputContextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/AreEmailsTheSame/9b28d2f3-3aea-4a43-8ba4-1bdc6e6bf96d"
      outputMethod="AppendMergeExisting"
      roles="*"
      service="Root/Service/DataTransformationService.origam#DataTransformationService/600930a5-102b-43e8-8af1-677c6d7e79f3"
      serviceMethod="Root/Service/DataTransformationService.origam#DataTransformationService/Transform/a215c2d6-e7aa-4b2f-97d9-03a8d019d4c6"
      traceLevel="InheritFromParent"
      x:type="Origam.Schema.WorkflowModel.ServiceMethodCallTask">
      <ServiceMethodCallParameter
        abstract="false"
        x:id="a591cc82-43e9-4878-bccb-4dc7501a318c"
        name="Parameters"
        serviceMethodParameter="Root/Service/DataTransformationService.origam#DataTransformationService/Transform/Parameters/ce3ebb59-6528-4157-b51a-500f84a635f0"
        x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/OldEmail/50a91ca7-302f-4015-8fc7-e6af939d12f9"
          x:id="705a9714-a982-4e8e-b09d-317d3717e21f"
          name="Second"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/Email/c4470478-6218-4ccd-8a2b-9f3cefa96c3b"
          x:id="b652aa85-d5e3-407a-8643-f3e03f856010"
          name="First"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
      </ServiceMethodCallParameter>
      <ServiceMethodCallParameter
        abstract="false"
        x:id="aa7b6f42-dfa8-474a-8421-79d8a51eaf19"
        name="Data"
        serviceMethodParameter="Root/Service/DataTransformationService.origam#DataTransformationService/Transform/Data/3e94d691-e045-426a-bc79-febc3562fa15"
        x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_OnBusinessPartnerUpdate.origam#Identity_OnBusinessPartnerUpdate/AreEmailsTheSame/9b28d2f3-3aea-4a43-8ba4-1bdc6e6bf96d"
          x:id="eb7167fa-c1e7-44d1-9039-d30865529896"
          name="AreEmailsChanged"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
      </ServiceMethodCallParameter>
      <ServiceMethodCallParameter
        abstract="false"
        x:id="a15517b3-8a21-48ef-a12a-c325b9afaf1a"
        name="XslScript"
        serviceMethodParameter="Root/Service/DataTransformationService.origam#DataTransformationService/Transform/XslScript/7eecc204-f38e-49fc-8875-fd6b4ba019fd"
        x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
        <TransformationReference
          abstract="false"
          x:id="a3fe71e7-a0b1-4b51-ae83-f79e671b90b8"
          name="TwoScalarValues_AreEqual"
          transformation="Security/Transformation/Security/TwoScalarValues_AreEqual.origam#TwoScalarValues_AreEqual/868bc2d5-073d-4060-bc75-dba807303525"
          x:type="Origam.Schema.EntityModel.TransformationReference" />
      </ServiceMethodCallParameter>
    </WorkflowTask>
  </Workflow>
</x:file>