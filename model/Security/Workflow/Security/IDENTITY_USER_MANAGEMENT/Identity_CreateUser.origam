<?xml version="1.0" encoding="utf-8"?>
<x:file xmlns:x="http://schemas.origam.com/1.0.0/model-persistence" xmlns="http://schemas.origam.com/5.0.0/model-element" xmlns:p="http://schemas.origam.com/1.0.0/package">
  <Workflow
    abstract="false"
    x:id="2bd4dbcc-d01e-4c5d-bedb-a4150dcefd54"
    name="Identity_CreateUser"
    traceLevel="TraceArchitect"
    transactionBehavior="InheritExisting"
    x:type="Origam.Schema.WorkflowModel.Workflow">
    <ContextStore
      abstract="false"
      dataType="String"
      disableConstraints="false"
      x:id="b6b11a0e-12e8-415a-9ef2-0e0e0674b92f"
      isReturnValue="false"
      name="FirstName"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="UniqueIdentifier"
      disableConstraints="false"
      x:id="60ae5e90-0b21-452f-baf9-11bedc7da91a"
      isReturnValue="false"
      name="RoleId"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="UniqueIdentifier"
      disableConstraints="false"
      x:id="9e1530df-580c-4089-8d24-1269ce70b3d7"
      isReturnValue="false"
      name="Id"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="String"
      disableConstraints="false"
      x:id="d972154a-50ab-47a3-9ca0-4d8318052399"
      isReturnValue="false"
      name="OutputFromMembership"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="String"
      disableConstraints="false"
      x:id="64b866f6-6846-481d-acf8-8c664282c9ce"
      isReturnValue="false"
      name="Email"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="Xml"
      defaultSet="Security/DataStructure/Security/UserProfile_New.origam#UserProfile_New/Defaults/4bcdf629-e2ac-4870-ac08-dff6ed5705bb"
      disableConstraints="false"
      x:id="9574304f-78a0-4a10-a27c-93e4940c7197"
      isReturnValue="false"
      name="UserProfile_New"
      structure="Security/DataStructure/Security/UserProfile_New.origam#UserProfile_New/ee5cb6a9-8724-41ae-b599-f89913868f34"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="String"
      disableConstraints="false"
      x:id="d14b0f0e-9101-4431-bb9f-b0e4e4d01fcc"
      isReturnValue="false"
      name="UserName"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="String"
      disableConstraints="false"
      x:id="23538c66-bdc7-4b16-9d68-c375d425b0d4"
      isReturnValue="false"
      name="Password"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="String"
      disableConstraints="false"
      x:id="b9123688-1cb1-42ee-90dc-e383253ebea5"
      isReturnValue="false"
      name="Name"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <ContextStore
      abstract="false"
      dataType="Boolean"
      disableConstraints="false"
      x:id="a3a1e895-e6c8-494a-8527-e4c529ca3a63"
      isReturnValue="false"
      name="RequestEmailConfirmation"
      x:type="Origam.Schema.WorkflowModel.ContextStore" />
    <WorkflowTask
      abstract="false"
      x:id="117fb77f-62eb-4b82-96e9-9dd10c3eb56b"
      name="02_SaveUserAndCallMembership"
      roles="*"
      traceLevel="InheritFromParent"
      transactionType="Atomic"
      x:type="Origam.Schema.WorkflowModel.TransactionWorkflowBlock">
      <WorkflowTask
        abstract="false"
        x:id="9046d95d-e3f5-4ebd-8eb0-3c38da3a9164"
        name="01_StoreNewUser"
        outputContextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/UserProfile_New/9574304f-78a0-4a10-a27c-93e4940c7197"
        outputMethod="AppendMergeExisting"
        roles="*"
        service="Root/Service/DataService.origam#DataService/bbd7bd32-d40b-441a-bb5b-0b0fa89169d4"
        serviceMethod="Root/Service/DataService.origam#DataService/StoreData/3c1c855d-3c06-49e1-bfbf-cf234134d083"
        traceLevel="InheritFromParent"
        x:type="Origam.Schema.WorkflowModel.ServiceMethodCallTask">
        <ServiceMethodCallParameter
          abstract="false"
          x:id="97dda5e0-7abb-4cde-b208-905b3d895d44"
          name="DataStructure"
          serviceMethodParameter="Root/Service/DataService.origam#DataService/StoreData/DataStructure/c229b1e0-cb1e-4c79-ad99-488775df3b19"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
          <DataStructureReference
            abstract="false"
            dataStructure="Security/DataStructure/Security/UserProfile_New.origam#UserProfile_New/ee5cb6a9-8724-41ae-b599-f89913868f34"
            x:id="55151cf6-79f5-4c3d-80e2-6798927cd8e1"
            name="UserProfile_New"
            x:type="Origam.Schema.EntityModel.DataStructureReference" />
        </ServiceMethodCallParameter>
        <ServiceMethodCallParameter
          abstract="false"
          x:id="d5c62224-ed26-4c7e-ba15-d45eb9d03b44"
          name="Data"
          serviceMethodParameter="Root/Service/DataService.origam#DataService/StoreData/Data/d4d7ec83-a1e8-458e-9900-36562b201ffc"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
          <WorkflowContextReference
            abstract="false"
            castToDataType="String"
            contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/UserProfile_New/9574304f-78a0-4a10-a27c-93e4940c7197"
            x:id="d9d71f16-9b4c-43de-9d35-e57941b719fa"
            name="UserProfile_New"
            x:type="Origam.Schema.WorkflowModel.ContextReference"
            xPath="/" />
        </ServiceMethodCallParameter>
      </WorkflowTask>
      <WorkflowTask
        abstract="false"
        x:id="82767f5c-8353-4951-9315-799a213db7bf"
        name="02_CreateUser_Identity"
        outputContextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/OutputFromMembership/d972154a-50ab-47a3-9ca0-4d8318052399"
        outputMethod="AppendMergeExisting"
        roles="*"
        service="Security/Service/IdentityService.origam#IdentityService/888933c6-e4b4-40c0-ae6b-462721fe8a60"
        serviceMethod="Security/Service/IdentityService.origam#IdentityService/CreateUser/3721b774-d828-49e2-b80d-93dc7d189a75"
        traceLevel="InheritFromParent"
        x:type="Origam.Schema.WorkflowModel.ServiceMethodCallTask">
        <ServiceMethodCallParameter
          abstract="false"
          x:id="dc128c9d-83e2-4812-b94b-01e8b89d1a4e"
          name="PasswordQuestion"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/CreateUser/PasswordQuestion/4f3f8c55-209d-43b9-bb3e-67f166c421e5"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter" />
        <ServiceMethodCallParameter
          abstract="false"
          x:id="e22cdd7f-e6bb-4f5e-8c68-1af29356535a"
          name="ProviderUserKey"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/CreateUser/ProviderUserKey/dd68f8c9-172d-4423-931a-d3fcda304c87"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
          <WorkflowContextReference
            abstract="false"
            castToDataType="String"
            contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/UserProfile_New/9574304f-78a0-4a10-a27c-93e4940c7197"
            x:id="b0a4356b-d5c5-472b-aad8-ce26e6a1f9f6"
            name="ProviderUserKey"
            x:type="Origam.Schema.WorkflowModel.ContextReference"
            xPath="/ROOT/BusinessPartner/Id" />
        </ServiceMethodCallParameter>
        <ServiceMethodCallParameter
          abstract="false"
          x:id="721eeb2b-4b8b-4368-898b-9326b834623f"
          name="Email"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/CreateUser/Email/71afe313-2206-49a4-b0dc-42d0720567ad"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
          <WorkflowContextReference
            abstract="false"
            castToDataType="String"
            contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/UserProfile_New/9574304f-78a0-4a10-a27c-93e4940c7197"
            x:id="ab289103-f3a6-4b22-b4b5-20c9e1c6135b"
            name="Email"
            x:type="Origam.Schema.WorkflowModel.ContextReference"
            xPath="/ROOT/BusinessPartner/@UserEmail" />
        </ServiceMethodCallParameter>
        <ServiceMethodCallParameter
          abstract="false"
          x:id="f79d1832-aa5a-4e92-95f4-c05b8daf02a5"
          name="Username"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/CreateUser/Username/5ec01d8a-c34a-4d2a-84e6-a30f85856ca1"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
          <WorkflowContextReference
            abstract="false"
            castToDataType="String"
            contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/UserProfile_New/9574304f-78a0-4a10-a27c-93e4940c7197"
            x:id="a56dacae-67e1-4e12-8d58-73b35612b92e"
            name="UserName"
            x:type="Origam.Schema.WorkflowModel.ContextReference"
            xPath="/ROOT/BusinessPartner/UserName" />
        </ServiceMethodCallParameter>
        <ServiceMethodCallParameter
          abstract="false"
          x:id="bef9bc92-531c-4fc2-9963-c1c5ba6c2e1a"
          name="EmailConfirmed"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/CreateUser/EmailConfirmed/984b2b27-634d-4aa7-b3c2-0541376774da"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
          <WorkflowContextReference
            abstract="false"
            castToDataType="String"
            contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/RequestEmailConfirmation/a3a1e895-e6c8-494a-8527-e4c529ca3a63"
            x:id="91f91c14-7efd-492c-9e05-02d545d41749"
            name="Confirmed"
            x:type="Origam.Schema.WorkflowModel.ContextReference"
            xPath="/ROOT/value = 'false'" />
        </ServiceMethodCallParameter>
        <ServiceMethodCallParameter
          abstract="false"
          x:id="ba220773-c8b0-40de-baf6-e9dce077cf1c"
          name="Password"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/CreateUser/Password/3b97d106-dd77-47f4-861b-a0e6ed248e97"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
          <WorkflowContextReference
            abstract="false"
            castToDataType="String"
            contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/UserProfile_New/9574304f-78a0-4a10-a27c-93e4940c7197"
            x:id="715cb70e-35ec-4346-8651-855191e12b33"
            name="Password"
            x:type="Origam.Schema.WorkflowModel.ContextReference"
            xPath="/ROOT/BusinessPartner/@UserPassword" />
        </ServiceMethodCallParameter>
        <ServiceMethodCallParameter
          abstract="false"
          x:id="b7f6ad0e-afef-4c61-98cc-ecab263af7e4"
          name="PasswordAnswer"
          serviceMethodParameter="Security/Service/IdentityService.origam#IdentityService/CreateUser/PasswordAnswer/f5f8da01-a93f-468a-a7df-1a6bb44c2a37"
          x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter" />
        <WorkflowTaskDependency
          abstract="false"
          x:id="98fbd485-2f1f-40bf-9250-70f81610dc69"
          name="After_01_StoreNewUser"
          startEvent="Success"
          task="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/02_SaveUserAndCallMembership/01_StoreNewUser/9046d95d-e3f5-4ebd-8eb0-3c38da3a9164"
          x:type="Origam.Schema.WorkflowModel.WorkflowTaskDependency" />
      </WorkflowTask>
      <WorkflowTaskDependency
        abstract="false"
        x:id="c402c125-bb25-43b1-bacc-9220a0d25f43"
        name="After_01_CreateBusinessPartner"
        startEvent="Success"
        task="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/01_CreateBusinessPartner/b3ef57a6-d32a-4200-8424-c456854912f4"
        x:type="Origam.Schema.WorkflowModel.WorkflowTaskDependency" />
    </WorkflowTask>
    <WorkflowTask
      abstract="false"
      x:id="b3ef57a6-d32a-4200-8424-c456854912f4"
      name="01_CreateBusinessPartner"
      outputContextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/UserProfile_New/9574304f-78a0-4a10-a27c-93e4940c7197"
      outputMethod="AppendMergeExisting"
      roles="*"
      service="Root/Service/DataTransformationService.origam#DataTransformationService/600930a5-102b-43e8-8af1-677c6d7e79f3"
      serviceMethod="Root/Service/DataTransformationService.origam#DataTransformationService/Transform/a215c2d6-e7aa-4b2f-97d9-03a8d019d4c6"
      traceLevel="InheritFromParent"
      x:type="Origam.Schema.WorkflowModel.ServiceMethodCallTask">
      <ServiceMethodCallParameter
        abstract="false"
        x:id="c2983b6b-c77f-42a6-8b3a-3b83728d60c7"
        name="Parameters"
        serviceMethodParameter="Root/Service/DataTransformationService.origam#DataTransformationService/Transform/Parameters/ce3ebb59-6528-4157-b51a-500f84a635f0"
        x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/Id/9e1530df-580c-4089-8d24-1269ce70b3d7"
          x:id="9b873e3c-8452-428c-a0d1-2239eb4ccc43"
          name="id"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/Name/b9123688-1cb1-42ee-90dc-e383253ebea5"
          x:id="5649726d-b132-4e71-a8c3-2647e867dacf"
          name="name"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/Password/23538c66-bdc7-4b16-9d68-c375d425b0d4"
          x:id="7ca21f08-d5ff-4fa0-bd5a-33a4e2021cf6"
          name="password"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/Email/64b866f6-6846-481d-acf8-8c664282c9ce"
          x:id="497c834e-b581-4295-8d93-694937419819"
          name="email"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/UserName/d14b0f0e-9101-4431-bb9f-b0e4e4d01fcc"
          x:id="4e7f7240-c319-40fc-b36e-8226ff1155d5"
          name="userName"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/FirstName/b6b11a0e-12e8-415a-9ef2-0e0e0674b92f"
          x:id="c4042956-ec3d-46a7-8efc-c11af5c391c0"
          name="firstName"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/RoleId/60ae5e90-0b21-452f-baf9-11bedc7da91a"
          x:id="bbf52cad-ea44-4e7d-bc12-c61f2535ff58"
          name="roleId"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
      </ServiceMethodCallParameter>
      <ServiceMethodCallParameter
        abstract="false"
        x:id="7898d41e-40aa-4f44-8f46-e876d78400a6"
        name="XslScript"
        serviceMethodParameter="Root/Service/DataTransformationService.origam#DataTransformationService/Transform/XslScript/7eecc204-f38e-49fc-8875-fd6b4ba019fd"
        x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
        <TransformationReference
          abstract="false"
          x:id="d270ff16-9489-48f6-a780-6ab8e4250e91"
          name="NewUser_CreateBusinessPartner"
          transformation="Security/Transformation/Security/NewUser_CreateBusinessPartner.origam#NewUser_CreateBusinessPartner/21934fda-a12e-4560-91b2-5410c8277c59"
          x:type="Origam.Schema.EntityModel.TransformationReference" />
      </ServiceMethodCallParameter>
      <ServiceMethodCallParameter
        abstract="false"
        x:id="74acafdb-1950-4b74-900c-eac6fbe5d150"
        name="Data"
        serviceMethodParameter="Root/Service/DataTransformationService.origam#DataTransformationService/Transform/Data/3e94d691-e045-426a-bc79-febc3562fa15"
        x:type="Origam.Schema.WorkflowModel.ServiceMethodCallParameter">
        <WorkflowContextReference
          abstract="false"
          castToDataType="String"
          contextStore="Security/Workflow/Security/IDENTITY_USER_MANAGEMENT/Identity_CreateUser.origam#Identity_CreateUser/UserProfile_New/9574304f-78a0-4a10-a27c-93e4940c7197"
          x:id="9cf35f4b-6d5d-4689-96e9-126990447215"
          name="UserProfile_New"
          x:type="Origam.Schema.WorkflowModel.ContextReference"
          xPath="/" />
      </ServiceMethodCallParameter>
    </WorkflowTask>
  </Workflow>
</x:file>